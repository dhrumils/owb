#!/usr/bin/env python

################################################################################
# file      server.py
#           This script provides functions to run flask server
#
# author    Glide Technology Pvt. Ltd. <www.glidemtech.com>
# version   1.0
# date      29, Jul, 2017
################################################################################

################################################################################
# dependencies
################################################################################
import sys
import os
sys.path.append(os.path.join(os.getcwd(), 'server'))
from flask import Flask
from . import sio
from web_config import webcfg
from web_config.views import gateway_app
from web_config.views import pdm_app
from web_config.views import user_app
from web_config.views import login_app
from web_config.views import settings_app

################################################################################
# constants
################################################################################

DEFAULT_BLUEPRINTS = (
    [gateway_app],
    [pdm_app],
    [user_app],
    [login_app],
    [settings_app]
)

################################################################################
# private variables
################################################################################

# none

################################################################################
# public variables
################################################################################

#none

################################################################################
# private classes
################################################################################

# none

################################################################################
# public classes
################################################################################

#none

################################################################################
# private methods
################################################################################

#none

################################################################################
# public methods
################################################################################

def init():
    sio.init_app(webcfg)

def run(host, port):
    for blueprint in DEFAULT_BLUEPRINTS:
        webcfg.register_blueprint(blueprint[0])
    sio.run(webcfg, host=host, port=port)

################################################################################
# script
################################################################################

# none

################################################################################
# end of file
################################################################################
